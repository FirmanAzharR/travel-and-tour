<section id="travel-bandara" class="contact section light-background">
   <!-- Section Title -->
   <div class="container section-title" data-aos="fade-up">
      <h2>Booking Travel Bandara</h2>
      <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
   </div>
   <!-- End Section Title -->
   <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="row g-4 g-lg-12">
         <div class="col-lg-12">
            <div class="contact-form" data-aos="fade-up" data-aos-delay="300">
               <h3>Get In Touch</h3>
               <p>Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum primis.
               </p>
               <!-- Nav tabs -->
               <style>
                  .nav-tabs .nav-link.active {
                  font-weight: bold;
                  }
               </style>
               <ul class="nav nav-tabs mb-3" id="bookingTab" role="tablist">
                  <li class="nav-item" role="presentation">
                     <button class="nav-link active" id="antar-bandara-tab" data-bs-toggle="tab" data-bs-target="#antar-bandara" type="button" role="tab" aria-controls="antar-bandara" aria-selected="true">Antar ke Bandara</button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="jemput-bandara-tab" data-bs-toggle="tab" data-bs-target="#jemput-bandara" type="button" role="tab" aria-controls="jemput-bandara" aria-selected="false">Jemput dari Bandara</button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="antar-jemput-bandara-tab" data-bs-toggle="tab" data-bs-target="#antar-jemput-bandara" type="button" role="tab" aria-controls="antar-jemput-bandara" aria-selected="false">Pulang Pergi ke Bandara</button>
                  </li>
               </ul>
               <!-- Tab panes -->
               <div class="tab-content" id="bookingTabContent">
                  <div class="tab-pane fade show active" id="antar-bandara" role="tabpanel" aria-labelledby="antar-bandara-tab">
                     <!-- Form Antar ke Bandara -->
                     <form id="booking-travel-bandara-form" data-aos="fade-up" data-aos-delay="200">
   
                        <div class="row gy-4">
                           <div class="col-md-4">
                              <label for="name">Enter your name</label>
                              <input type="text" name="name" id="name" class="form-control" placeholder="Your Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your name">
                           </div>
                           <div class="col-md-4 ">
                              <label for="wa-number">Enter your whatsapp number</label>
                              <input type="wa-number" class="form-control" name="wa-number" id="wa-number" placeholder="Your Whatsapp Number" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your whatsapp number">
                           </div>
                           <div class="col-md-4 ">
                              <label for="total-passengers">Total passengers</label>
                              <input type="number" class="form-control" name="total-passengers" id="total-passengers" placeholder="Total passengers" required data-bs-toggle="tooltip" data-bs-placement="top" title="Total passengers">
                           </div>
                           <div class="col-md-6 ">
                              <label for="pickup-address">Pickup address location</label>
                              <input type="text" class="form-control" name="pickup-address" id="pickup-address" placeholder="Copy your pickup address from google maps" required data-bs-toggle="tooltip" data-bs-placement="top" title="Pickup address location">
                           </div>
                           <div class="col-md-6 ">
                              <label for="airport-name">Airport Name</label>
                              <input type="text" class="form-control" name="airport-name" id="airport-name" placeholder="Airport Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Airport Name">
                           </div>
                           <div class="col-md-4 ">
                              <label for="booking-date">Enter your booking date</label>
                              <input type="date" class="form-control" name="booking-date" id="booking-date" placeholder="Booking Date" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your booking date">
                           </div>
                           <div class="col-md-4 ">
                              <label for="pickup-time">Pickup time</label>
                              <input type="text" class="form-control" name="pickup-time" id="pickup-time" placeholder="Pickup time" required data-bs-toggle="tooltip" data-bs-placement="top" title="Pickup time">
                           </div>
                           <div class="col-md-4 ">
                              <label for="flight-time">Flight time</label>
                              <input type="text" class="form-control" name="flight-time" id="flight-time" placeholder="Flight time" required data-bs-toggle="tooltip" data-bs-placement="top" title="Flight time">
                           </div>
                           <div class="col-md-4 ">
                              <label for="flight-number">Flight number</label>
                              <input type="text" class="form-control" name="flight-number" id="flight-number" placeholder="Flight number" required data-bs-toggle="tooltip" data-bs-placement="top" title="Flight number">
                           </div>
                           <div class="col-md-4 ">
                              <label for="services">Services</label>
                              <input type="text" class="form-control" name="services" id="services" placeholder="Services" required data-bs-toggle="tooltip" data-bs-placement="top" title="Services">
                           </div>
                           <div class="col-md-4 ">
                              <label for="box">Barang Bagasi</label>
                              <input type="text" class="form-control" name="box" id="box" placeholder="Barang Bagasi" required data-bs-toggle="tooltip" data-bs-placement="top" title="Barang Bagasi">
                           </div>
                           <br>
                           <div class="col-12 text-center">
                              <button type="submit" class="btn">Booking Now</button>
                           </div>
                        </div>
                     </form>
                  </div>
                  <div class="tab-pane fade" id="jemput-bandara" role="tabpanel" aria-labelledby="jemput-bandara-tab">
                     <!-- Form Jemput dari Bandara -->
                     <form id="booking-travel-bandara-pickup-form" data-aos="fade-up" data-aos-delay="200">
                        <div class="row gy-4">
                           <div class="col-md-4">
                              <label for="name">Enter your name</label>
                              <input type="text" name="name" id="name" class="form-control" placeholder="Your Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your name">
                           </div>
                           <div class="col-md-4 ">
                              <label for="wa-number">Enter your whatsapp number</label>
                              <input type="wa-number" class="form-control" name="wa-number" id="wa-number" placeholder="Your Whatsapp Number" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your whatsapp number">
                           </div>
                           <div class="col-md-4 ">
                              <label for="total-passengers">Total passengers</label>
                              <input type="number" class="form-control" name="total-passengers" id="total-passengers" placeholder="Total passengers" required data-bs-toggle="tooltip" data-bs-placement="top" title="Total passengers">
                           </div>
                           <div class="col-md-6 ">
                              <label for="pickup-address">Pickup address location</label>
                              <input type="text" class="form-control" name="pickup-address" id="pickup-address" placeholder="Copy your pickup address from google maps" required data-bs-toggle="tooltip" data-bs-placement="top" title="Pickup address location">
                           </div>
                           <div class="col-md-6 ">
                              <label for="airport-name">Airport Name</label>
                              <input type="text" class="form-control" name="airport-name" id="airport-name" placeholder="Airport Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Airport Name">
                           </div>
                           <div class="col-md-6 ">
                              <label for="booking-date">Enter your booking date</label>
                              <input type="date" class="form-control" name="booking-date" id="booking-date" placeholder="Booking Date" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your booking date">
                           </div>
                           <div class="col-md-6 ">
                              <label for="arrival-time">Arrival time</label>
                              <input type="text" class="form-control" name="arrival-time" id="arrival-time" placeholder="Flight time" required data-bs-toggle="tooltip" data-bs-placement="top" title="Flight Arrival time">
                           </div>
                           <div class="col-md-4 ">
                              <label for="flight-number">Flight number</label>
                              <input type="text" class="form-control" name="flight-number" id="flight-number" placeholder="Flight number" required data-bs-toggle="tooltip" data-bs-placement="top" title="Flight number">
                           </div>
                           <div class="col-md-4 ">
                              <label for="services">Services</label>
                              <input type="text" class="form-control" name="services" id="services" placeholder="Services" required data-bs-toggle="tooltip" data-bs-placement="top" title="Services">
                           </div>
                           <div class="col-md-4 ">
                              <label for="box">Barang Bagasi</label>
                              <input type="text" class="form-control" name="box" id="box" placeholder="Barang Bagasi" required data-bs-toggle="tooltip" data-bs-placement="top" title="Barang Bagasi">
                           </div>
                           <br>
                           <div class="col-12 text-center">
                              <button type="submit" class="btn">Booking Now</button>
                           </div>
                        </div>
                     </form>
                  </div>
                  <div class="tab-pane fade" id="antar-jemput-bandara" role="tabpanel" aria-labelledby="antar-jemput-bandara-tab">
                     <!-- Form Pulang Pergi ke Bandara -->
                     <form id="booking-travel-bandara-pp-form" data-aos="fade-up" data-aos-delay="200">
                        <div class="row gy-4">
                           <div class="col-md-4">
                              <label for="name">Enter your name</label>
                              <input type="text" name="name" id="name" class="form-control" placeholder="Your Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your name">
                           </div>
                           <div class="col-md-4 ">
                              <label for="wa-number">Enter your whatsapp number</label>
                              <input type="wa-number" class="form-control" name="wa-number" id="wa-number" placeholder="Your Whatsapp Number" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your whatsapp number">
                           </div>
                           <div class="col-md-4 ">
                              <label for="total-passengers">Total passengers</label>
                              <input type="number" class="form-control" name="total-passengers" id="total-passengers" placeholder="Total passengers" required data-bs-toggle="tooltip" data-bs-placement="top" title="Total passengers">
                           </div>
                           <div class="col-md-6 ">
                              <label for="pickup-address">Pickup address location</label>
                              <input type="text" class="form-control" name="pickup-address" id="pickup-address" placeholder="Copy your pickup address from google maps" required data-bs-toggle="tooltip" data-bs-placement="top" title="Pickup address location">
                           </div>
                           <div class="col-md-6 ">
                              <label for="airport-name">Airport Name</label>
                              <input type="text" class="form-control" name="airport-name" id="airport-name" placeholder="Airport Name" required data-bs-toggle="tooltip" data-bs-placement="top" title="Airport Name">
                           </div>
                           <div class="col-md-6 ">
                              <label for="booking-date">Enter your booking date</label>
                              <input type="date" class="form-control" name="booking-date" id="booking-date" placeholder="Booking Date" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your booking date">
                           </div>
                           <div class="col-md-6 ">
                              <label for="pickup-time">Pickup time</label>
                              <input type="text" class="form-control" name="pickup-time" id="pickup-time" placeholder="Pickup time" required data-bs-toggle="tooltip" data-bs-placement="top" title="Pickup time">
                           </div>
                           <br>
                           <div class="col-12 text-center">
                              <button type="submit" class="btn">Booking Now</button>
                           </div>
                        </div>
                     </form>
                  </div>
               </div>
               <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    // AJAX submit untuk form antar-bandara
                    const bandaraForm = document.getElementById('booking-travel-bandara-form');
                    if (bandaraForm) {
                      bandaraForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        const submitBtn = bandaraForm.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        submitBtn.textContent = 'Processing...';
                        submitBtn.disabled = true;
                        const formData = new FormData(bandaraForm);
                        
                        Swal.fire({
                          title: 'Processing...',
                          allowOutsideClick: false,
                          didOpen: () => { Swal.showLoading(); }
                        });
                        
                        fetch('<?= base_url('booking/booking_travel_bandara') ?>', {
                          method: 'POST',
                          body: formData
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            return response.json();
                        })
                        .then(data => {
                            if (data.status === 'success') {
                                Swal.fire({
                                    title: 'Booking Berhasil!',
                                    html: 'Mengalihkan ke WhatsApp ...',
                                    allowOutsideClick: false,
                                    showConfirmButton: false,
                                    timer: 1500,
                                    timerProgressBar: true,
                                    didOpen: () => {
                                        Swal.showLoading();
                                    }
                                }).then((result) => {
                                    const waNumber = '6288213761173';
                                    const customerName = encodeURIComponent(data.customer_name || '');
                                    const bookingCode = encodeURIComponent(data.booking_code || '');
                                    const waNumberCustomer = encodeURIComponent(data.wa_number || '');
                                    const totalPassengers = encodeURIComponent(data.total_passengers || '');
                                    const bookingDate = encodeURIComponent(data.booking_date || '');
                                    const pickupAddress = encodeURIComponent(data.pickup_address || '');
                                    const airportName = encodeURIComponent(data.airport_name || '');
                                    const pickupTime = encodeURIComponent(data.pickup_time || '');
                                    const flightTime = encodeURIComponent(data.flight_time || '');
                                    const flightNumber = encodeURIComponent(data.flight_number || '');
                                    const services = encodeURIComponent(data.services || '');
                                    const luggageItems = encodeURIComponent(data.luggage_items || '');
                                    
                                    // Create WhatsApp message
                                    let message = `Halo, saya ${customerName}%0A`;
                                    message += `Saya sudah melakukan pemesanan travel bandara dengan detail sebagai berikut:%0A%0A`;
                                    message += `*Kode Booking*: ${bookingCode}%0A`;
                                    message += `*Nama*: ${customerName}%0A`;
                                    message += `*No. WhatsApp*: ${waNumberCustomer}%0A`;
                                    message += `*Total Penumpang*: ${totalPassengers}%0A`;
                                    message += `*Bandara Tujuan*: ${airportName}%0A`;
                                    message += `*Tanggal Keberangkatan*: ${bookingDate}%0A`;
                                    message += `*Waktu Penjemputan*: ${pickupTime}%0A`;
                                    message += `*Waktu Penerbangan*: ${flightTime}%0A`;
                                    message += `*Nomor Penerbangan*: ${flightNumber}%0A`;
                                    message += `*Layanan*: ${services}%0A`;
                                    message += `*Barang Bawaan*: ${luggageItems}%0A`;
                                    message += `*Alamat Penjemputan*: ${pickupAddress}%0A%0A`;
                                    message += `Terima kasih.`;

                                    // Open WhatsApp with the message
                                    window.open(`https://wa.me/${waNumber}?text=${message}`, '_blank');
                                    
                                    // Reset the form
                                    // Show success message
                                    Swal.fire({
                                       icon: 'success',
                                       title: 'Booking Berhasil!',
                                       html: `
                                        <div class="text-start">
                                        <p>Terima kasih telah melakukan pemesanan. Detail pemesanan telah dikirim ke WhatsApp Anda.</p>
                                           <div class="alert alert-info mt-3">
                                                <strong>Kode Booking:</strong> ${data.booking_code}
                                           </div>
                                       </div>`,
                                       confirmButtonText: 'Selesai'
                                    }).then(() => {
                                       // Reset form
                                       bandaraForm.reset();
                                    });
                                });
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Gagal!',
                                    text: data.message || 'Gagal menyimpan booking.',
                                    confirmButtonText: 'OK',
                                    confirmButtonColor: '#0D83FD'
                                });
                            }
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                            Swal.fire({
                                icon: 'error',
                                title: 'Terjadi Kesalahan!',
                                text: 'Terjadi kesalahan. Silakan coba lagi.',
                                confirmButtonText: 'OK',
                                confirmButtonColor: '#0D83FD'
                            });
                        })
                        .finally(() => {
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        });
                      });
                    }
                    // AJAX submit untuk form pulang-pergi bandara
                    const bandaraPPForm = document.getElementById('booking-travel-bandara-pp-form');
                    if (bandaraPPForm) {
                      bandaraPPForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        const submitBtn = bandaraPPForm.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        submitBtn.textContent = 'Processing...';
                        submitBtn.disabled = true;
                        const formData = new FormData(bandaraPPForm);
                        
                        Swal.fire({
                          title: 'Processing...',
                          allowOutsideClick: false,
                          didOpen: () => { Swal.showLoading(); }
                        });
                        
                        fetch('<?= base_url('booking/booking_travel_bandara_pp') ?>', {
                          method: 'POST',
                          body: formData
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            return response.json();
                        })
                        .then(data => {
                            if (data.status === 'success') {
                                Swal.fire({
                                    title: 'Booking Berhasil!',
                                    html: 'Mengalihkan ke WhatsApp ...',
                                    allowOutsideClick: false,
                                    showConfirmButton: false,
                                    timer: 1500,
                                    timerProgressBar: true,
                                    didOpen: () => {
                                        Swal.showLoading();
                                    }
                                }).then((result) => {
                                    const waNumber = '6288213761173'; 
                                    const customerName = encodeURIComponent(data.customer_name || '');
                                    const bookingCode = encodeURIComponent(data.booking_code || '');
                                    const waNumberCustomer = encodeURIComponent(data.wa_number || '');
                                    const totalPassengers = encodeURIComponent(data.total_passengers || '');
                                    const bookingDate = encodeURIComponent(data.booking_date || '');
                                    const pickupAddress = encodeURIComponent(data.pickup_address || '');
                                    const airportName = encodeURIComponent(data.airport_name || '');
                                    const pickupTime = encodeURIComponent(data.pickup_time || '');
                                    // const returnDate = encodeURIComponent(data.return_date || '');
                                    // const returnTime = encodeURIComponent(data.return_time || '');
                                    // const flightNumber = encodeURIComponent(data.flight_number || '');
                                    // const services = encodeURIComponent(data.services || '');
                                    // const luggageItems = encodeURIComponent(data.luggage_items || '');
                                    
                                    // Create WhatsApp message
                                    let message = `Halo, saya ${customerName}%0A`;
                                    message += `Saya sudah melakukan pemesanan travel bandara (Pulang Pergi) dengan detail sebagai berikut:%0A%0A`;
                                    message += `*Kode Booking*: ${bookingCode}%0A`;
                                    message += `*Nama*: ${customerName}%0A`;
                                    message += `*No. WhatsApp*: ${waNumberCustomer}%0A`;
                                    message += `*Total Penumpang*: ${totalPassengers}%0A`;
                                    message += `*Bandara Tujuan*: ${airportName}%0A`;
                                    message += `*Tanggal Keberangkatan*: ${bookingDate}%0A`;
                                    message += `*Waktu Penjemputan*: ${pickupTime}%0A`;
                                    // message += `*Tanggal Kembali*: ${returnDate}%0A`;
                                    // message += `*Waktu Kembali*: ${returnTime}%0A`;
                                    // message += `*Nomor Penerbangan*: ${flightNumber}%0A`;
                                    // message += `*Layanan*: ${services}%0A`;
                                    // message += `*Barang Bawaan*: ${luggageItems}%0A`;
                                    message += `*Alamat Penjemputan*: ${pickupAddress}%0A%0A`;
                                    message += `Terima kasih.`;

                                    // Open WhatsApp with the message
                                    window.open(`https://wa.me/${waNumber}?text=${message}`, '_blank');
                                    
                                    // Show success message
                                    Swal.fire({
                                       icon: 'success',
                                       title: 'Booking Berhasil!',
                                       html: `
                                        <div class="text-start">
                                        <p>Terima kasih telah melakukan pemesanan. Detail pemesanan telah dikirim ke WhatsApp Anda.</p>
                                           <div class="alert alert-info mt-3">
                                                <strong>Kode Booking:</strong> ${data.booking_code}
                                           </div>
                                       </div>`,
                                       confirmButtonText: 'Selesai'
                                    }).then(() => {
                                       // Reset form
                                       bandaraPPForm.reset();
                                    });
                                });
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Gagal!',
                                    text: data.message || 'Gagal menyimpan booking.',
                                    confirmButtonText: 'OK',
                                    confirmButtonColor: '#0D83FD'
                                });
                            }
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                            Swal.fire({
                                icon: 'error',
                                title: 'Terjadi Kesalahan!',
                                text: 'Terjadi kesalahan. Silakan coba lagi.',
                                confirmButtonText: 'OK',
                                confirmButtonColor: '#0D83FD'
                            });
                        })
                        .finally(() => {
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        });
                      });
                    }
                    
                    // AJAX submit untuk form jemput-bandara
                    const bandaraPickupForm = document.getElementById('booking-travel-bandara-pickup-form');
                    if (bandaraPickupForm) {
                      bandaraPickupForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        const submitBtn = bandaraPickupForm.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        submitBtn.textContent = 'Processing...';
                        submitBtn.disabled = true;
                        const formData = new FormData(bandaraPickupForm);
                        
                        Swal.fire({
                          title: 'Processing...',
                          allowOutsideClick: false,
                          didOpen: () => { Swal.showLoading(); }
                        });
                        
                        fetch('<?= base_url('booking/booking_travel_bandara_pickup') ?>', {
                          method: 'POST',
                          body: formData
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            return response.json();
                        })
                        .then(data => {
                            if (data.status === 'success') {
                                Swal.fire({
                                    title: 'Booking Berhasil!',
                                    html: 'Mengalihkan ke WhatsApp ...',
                                    allowOutsideClick: false,
                                    showConfirmButton: false,
                                    timer: 1500,
                                    timerProgressBar: true,
                                    didOpen: () => {
                                        Swal.showLoading();
                                    }
                                }).then((result) => {
                                    const waNumber = '6288213761173'; 
                                    const customerName = encodeURIComponent(data.customer_name || '');
                                    const bookingCode = encodeURIComponent(data.booking_code || '');
                                    const waNumberCustomer = encodeURIComponent(data.wa_number || '');
                                    const totalPassengers = encodeURIComponent(data.total_passengers || '');
                                    const bookingDate = encodeURIComponent(data.booking_date || '');
                                    const pickupAddress = encodeURIComponent(data.pickup_address || '');
                                    const airportName = encodeURIComponent(data.airport_name || '');
                                    const arrivalTime = encodeURIComponent(data.arrival_time || '');
                                    const flightNumber = encodeURIComponent(data.flight_number || '');
                                    const services = encodeURIComponent(data.services || '');
                                    const luggageItems = encodeURIComponent(data.luggage_items || '');
                                    
                                    // Create WhatsApp message
                                    let message = `Halo, saya ${customerName}%0A`;
                                    message += `Saya sudah melakukan pemesanan jemput bandara dengan detail sebagai berikut:%0A%0A`;
                                    message += `*Kode Booking*: ${bookingCode}%0A`;
                                    message += `*Nama*: ${customerName}%0A`;
                                    message += `*No. WhatsApp*: ${waNumberCustomer}%0A`;
                                    message += `*Total Penumpang*: ${totalPassengers}%0A`;
                                    message += `*Bandara Asal*: ${airportName}%0A`;
                                    message += `*Tanggal Kedatangan*: ${bookingDate}%0A`;
                                    message += `*Waktu Kedatangan*: ${arrivalTime}%0A`;
                                    message += `*Nomor Penerbangan*: ${flightNumber}%0A`;
                                    message += `*Layanan*: ${services}%0A`;
                                    message += `*Barang Bawaan*: ${luggageItems}%0A`;
                                    message += `*Alamat Tujuan*: ${pickupAddress}%0A%0A`;
                                    message += `Terima kasih.`;

                                    // Open WhatsApp with the message
                                    window.open(`https://wa.me/${waNumber}?text=${message}`, '_blank');
                                    
                                    // Show success message
                                    Swal.fire({
                                       icon: 'success',
                                       title: 'Booking Berhasil!',
                                       html: `
                                        <div class="text-start">
                                        <p>Terima kasih telah melakukan pemesanan. Detail pemesanan telah dikirim ke WhatsApp Anda.</p>
                                           <div class="alert alert-info mt-3">
                                                <strong>Kode Booking:</strong> ${data.booking_code}
                                           </div>
                                       </div>`,
                                       confirmButtonText: 'Selesai'
                                    }).then(() => {
                                       // Reset form
                                       bandaraPickupForm.reset();
                                    });
                                });
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Gagal!',
                                    text: data.message || 'Gagal menyimpan booking.',
                                    confirmButtonText: 'OK',
                                    confirmButtonColor: '#0D83FD'
                                });
                            }
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                            Swal.fire({
                                icon: 'error',
                                title: 'Terjadi Kesalahan!',
                                text: 'Terjadi kesalahan. Silakan coba lagi.',
                                confirmButtonText: 'OK',
                                confirmButtonColor: '#0D83FD'
                            });
                        })
                        .finally(() => {
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        });
                      });
                    }
                  
                    // Aktifkan tab terakhir yang dipilih jika ada di localStorage
                    var lastTab = localStorage.getItem('activeBookingTab');
                    if (lastTab) {
                      var tabTrigger = document.querySelector('button[data-bs-target="' + lastTab + '"]');
                      if (tabTrigger) {
                        var tab = new bootstrap.Tab(tabTrigger);
                        tab.show();
                      }
                    }
                  
                    // Simpan tab yang dipilih ke localStorage saat tab di-click
                    var tabButtons = document.querySelectorAll('#bookingTab button[data-bs-toggle="tab"]');
                    tabButtons.forEach(function (btn) {
                      btn.addEventListener('shown.bs.tab', function (event) {
                        localStorage.setItem('activeBookingTab', event.target.getAttribute('data-bs-target'));
                      });
                    });
                  });
               </script>
            </div>
         </div>
      </div>
   </div>
</section>
